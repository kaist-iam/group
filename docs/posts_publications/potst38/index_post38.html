<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="KAIST IAM Group">
<meta name="dcterms.date" content="2025-08-29">

<title>High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035 – KAIST IAM Group</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../.././img/iam_kaist_logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5bd799761519bfa893395a4e47c2c3c4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../style.css">
<meta property="og:title" content="High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035 – KAIST IAM Group">
<meta property="og:description" content="">
<meta property="og:image" content="https://github.com/GCAM-KAIST/posts_publications/potst38/image_main.jpg">
<meta property="og:site_name" content="KAIST IAM Group">
<meta name="twitter:title" content="High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035 – KAIST IAM Group">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://github.com/GCAM-KAIST/posts_publications/potst38/image_main.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">KAIST IAM Group</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About us</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../models.html"> 
<span class="menu-text">Models</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../publications.html"> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../news.html"> 
<span class="menu-text">News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../opportunities.html"> 
<span class="menu-text">Opportunities</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/company/kaist-iam-group/"> <i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/GCAM-KAIST"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Publication</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>KAIST IAM Group </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 29, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="./img/iam_kaist_logo.png" class="img-fluid"></p>
</div></div>
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index_post38.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><em>Current policies fall short of achieving the 2030 NDC.</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image_main.jpg" class="quarto-figure quarto-figure-center figure-img" width="650" height="420"></p>
</figure>
</div>
<p>Seoul National University (SNU) and KAIST have jointly released new research findings that provide a pathway for Korea’s 2035 nationally determined contribution (NDC). The study, conducted by Hyuntae Choi and Professor Sangin Park of SNU together with Professor Haewon McJeon of KAIST, concludes that while current policies make it unlikely to achieve the 2030 NDC, stronger measures could enable a 60 percent reduction in greenhouse gas emissions by 2035 compared to 2018 levels.</p>
<p>The first paper, published in the <em>Journal of Climate Change Research</em>, offers the first integrated assessment of the 11th Basic Plan for Long-term Electricity Supply and Demand, announced in March 2025. Using the Global Change Assessment Model (GCAM), the researchers compared the government’s Current Policy scenario with an alternative pathway that assumes a full coal phase-out and annual offshore wind expansion of 4 GW. Their analysis found that the 11th Basic Plan is insufficient to meet the 2030 power-sector target (45.9%), whereas the alternative scenario achieves an 82% reduction in emissions from the power sector by 2035 while still meeting projected electricity demand.</p>
<p>Building on this analysis, the team extended their assessment to cover the entire economy in a preprint study, now posted on <em>EarthArXiv</em>. The new research compares a Current Policies pathway with an Enhanced Ambition scenario that incorporates additional measures such as a complete coal phase-out by 2035, tripling solar PV capacity by 2030, a ban on extending blast furnace lifetimes, restrictions on the sale of internal combustion engine vehicles, zero-emission appliance mandate for buildings, and the introduction of methane and fluorinated gas taxes. The results show that under current policies, emissions decline by only 33.7% by 2035, whereas under the Enhanced Ambition pathway, Korea can reduce emissions by 60% without relying on international offsets.</p>
<p><em>The international community is urging Korea to adopt a fair share reduction target in the upper-60% range,” said Prof.&nbsp;Haewon McJeon of KAIST Graduate School of Green Growth and Sustainability. “Our research provides the first quantitative estimate of the gap between international expectations and what can be achieved domestically, and identifies realistic policy measures to help close that gap.”</em></p>
<p>The findings offer timely insights as Korea prepares to submit its 2035 NDC by September. According to the researchers, aligning the 2035 target with Korea’s 2050 carbon neutrality pledge will require not only a full coal phase-out and accelerated offshore wind deployment, but also stricter limits on extending blast furnace operations, large-scale green retrofitting of existing buildings, a zero-emission appliance mandate, and stronger carbon pricing through the national emissions trading system. The team expressed hope that their work will guide policymakers in setting an ambitious yet achievable 2035 NDC for Korea.</p>
<ul>
<li><p>An integrated assessment of the 11th basic plan for long-term electricity supply and demand and alternative power generation mix scenarios: <a href="https://doi.org/10.15531/KSCCR.2025.16.3.459" class="uri">https://doi.org/10.15531/KSCCR.2025.16.3.459</a></p></li>
<li><p>High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035: <a href="https://doi.org/10.31223/X50161" class="uri">https://doi.org/10.31223/X50161</a></p></li>
</ul>
<p><strong>KAIST-서울대 연구진 “모든 부문별 탈탄소 정책의 강화를 통해 2035년 NDC 60% 감축 가능하다”</strong><br>
<strong>-</strong>현행정책만으로는 2030년 NDC 달성 어려워</p>
<p>서울대학교와 카이스트가 협력하여 한국의 2035년 국가온실가스감축목표(NDC) 수립을 위한 연구 논문을 발표하였다. 서울대학교 행정대학원 최현태 연구원과 박상인 교수, 카이스트 녹색성장지속가능대학원 전해원 교수가 공개한 통합평가모형 분석 결과에 따르면, 현행 정책만으로는 2030 NDC 달성이 어렵지만, 부문별로 진전된 조치를 정책에 적극 반영한다면 2035년까지 2018년 배출량 대비 60% 감축이 가능한 것으로 나타났다.</p>
<p>한국기후변화학회지에 게재된 첫 논문 “제11차 전력수급기본계획과 대안적 전원 구성 시나리오의 통합평가에 관한 연구”는 2025년 3월 발표된 제11차 전력수급기본계획(이하 ‘기본계획’)을 통합평가모형을 통해 분석한 최초의 논문이다. 연구진은 통합평가모형 GCAM을 활용하여 제11차 기본계획의 발전량 전망을 바탕으로 한 현행 정책 시나리오(Current Policy)와 석탄 발전을 완전히 퇴출하고 해상풍력을 연간 4GW 확대하는 대안적 시나리오(CoalOut-HighRE)를 비교하여 분석했다. 분석 결과 현행 제11차 기본계획은 2030년 전력 부문 감축목표를 달성하기 어려운 것으로 나타났다. 반면 대안적 시나리오는 석탄 발전을 퇴출시켜 2035년까지 전력부문에서 약 82%의 온실가스 감축을 가져오면서도 연간 전력 수요를 충족시키기에 충분한 것으로 나타났다.</p>
<p>동연구진은경제 전 부문을 포괄하는 두번째 논문 “High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035” 연구를 프리프린트(preprint) 형태로 “Earth Arxiv”에 등록했다. 해당 논문은 현재 동료 평가가 진행 중이다.</p>
<p>이 연구는 GCAM을 활용하여 전력, 산업, 수송, 건물, 농업, 폐기물 등 모든 부문을 아울러, 현행 정책 시나리오(Current Policies)와 진전된 목표 시나리오(Enhanced Ambition)를 비교 분석했다. 진전된 목표 시나리오에는 첫 논문에서반영한 2035년 석탄 발전 완전 퇴출, 해상풍력 연간 4GW 확대, 태양광 2030년까지 3배 확대와 더불어 고로 설비 수명연장 중단, 내연기관차 판매에 대한 규제, 메탄세 및 불화 온실가스세 도입 등이 포함된다. 분석 결과 현행 정책만으로는2035년까지 온실가스가 33.7% 감축되는 데 그쳐 이미 국제사회에 선언한 40% 감축에도 미치지 못하지만, 강화된 정책으로는 국외 감축 없이도 2035년에 2018년 대비 60% 감축이 가능한 것으로 나타났다.</p>
<p>이번 연구의 주저자로서 시나리오 개발을 주도한 서울대 최현태 연구원은 “다가오는 기후위기에 대응하기 위해 세계 각국의 감축목표 상향을 요구받고 있으며, 국제사회는 한국의 공정한 감축량으로 60% 후반대의 목표를 요구하고 있다. 이번 연구는 국제사회가 요구하는 감축 수준과 현실적으로 달성할 수 있는 최대 감축량 사이의 격차를 정량적으로 산정한 첫 번째 시도다. 실현할 수 있는 정책을 통해 국제적 요구와 국내 역량 간의 간극을 최대한 좁힐 방안을 제시했다”라고 설명했다.</p>
<p>이번 연구는 올해 9월까지 제출 예정인 한국의 2035년 NDC 수립에 중요한 정책적 시사점을 제공할 것으로 기대된다. 2050년 탄소중립 목표에 부합하게 2035년 온실가스를 감축하기 위해서는 전력 부문의 석탄 발전 완전히 퇴출하는 것과 해상풍력 확대, 고로 수명 연장에 대한 규제, 기존 건축물에 대한 그린리모델링과 제로배출 가전제품 도입확대, 온실가스 배출권 거래제 강화를 통한 탄소가격 현실화 등이 필수적이다. 연구진은 이번 성과가 실현 가능한 정책 시나리오 제시를 통해 한국의 보다 진전된 2035년 NDC 수립을 뒷받침하는데 활용될 것으로 기대한다고 밝혔다.</p>
<ul>
<li><p>제11차 전력수급기본계획과 대안적 전원 구성 시나리오의 통합평가에 관한 연구: <a href="https://doi.org/10.15531/KSCCR.2025.16.3.459" class="uri">https://doi.org/10.15531/KSCCR.2025.16.3.459</a></p></li>
<li><p>High-ambition climate action in all sectors can achieve a 60% greenhouse gas emissions reduction in Korea by 2035: <a href="https://doi.org/10.31223/X50161" class="uri">https://doi.org/10.31223/X50161</a></p></li>
</ul>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/github\.com\/GCAM-KAIST");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
            // default icon
            link.classList.add("external");
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>