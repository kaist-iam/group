data<- data.frame(
  stringsAsFactors = FALSE,
       check.names = FALSE,
                   sector = c("trn_aviation_intl","trn_aviation_intl","trn_aviation_intl",
                              "trn_freight","trn_freight","trn_freight",
                              "trn_freight","trn_freight","trn_freight","trn_freight",
                              "trn_freight","trn_freight","trn_freight",
                              "trn_freight","trn_freight_road","trn_freight_road",
                              "trn_freight_road","trn_freight_road",
                              "trn_pass","trn_pass","trn_pass","trn_pass","trn_pass",
                              "trn_pass","trn_pass","trn_pass","trn_pass",
                              "trn_pass_road","trn_pass_road","trn_pass_road",
                              "trn_pass_road","trn_pass_road","trn_pass_road",
                              "trn_pass_road_LDV","trn_pass_road_LDV",
                              "trn_pass_road_LDV","trn_pass_road_LDV_4W",
                              "trn_pass_road_LDV_4W","trn_pass_road_LDV_4W",
                              "trn_pass_road_LDV_4W","trn_pass_road_LDV_4W",
                              "trn_pass_road_LDV_4W","trn_pass_road_LDV_4W",
                              "trn_pass_road_LDV_4W","trn_pass_road_LDV_4W",
                              "trn_pass_road_LDV_4W","trn_shipping_intl","trn_shipping_intl",
                              "trn_shipping_intl","trn_shipping_intl"),
                subsector = c("International Aviation","International Aviation",
                              "International Aviation","Domestic Ship","Domestic Ship",
                              "Domestic Ship","Domestic Ship","Freight Rail",
                              "Freight Rail","Freight Rail","Freight Rail",
                              "Freight Rail","Freight Rail","road","Medium truck",
                              "Medium truck","Medium truck","Medium truck",
                              "Cycle","Domestic Aviation","Domestic Aviation",
                              "Domestic Aviation","HSR","Passenger Rail",
                              "Passenger Rail","Walk","road","Bus","Bus","Bus",
                              "Bus","Bus","LDV","2W and 3W","2W and 3W","4W",
                              "Car","Car","Car","Car","Car",
                              "Large Car and Truck","Large Car and Truck",
                              "Large Car and Truck","Large Car and Truck","Large Car and Truck",
                              "International Ship","International Ship",
                              "International Ship","International Ship"),
               technology = c("BEV","Hydrogen",
                              "Liquids","BEV","FCEV","Hybrid Liquids",
                              "Liquids","BEV","Coal","Electric","FCEV",
                              "Hybrid Liquids","Liquids","road","BEV","FCEV",
                              "Hybrid Liquids","Liquids","Cycle","BEV","Hydrogen",
                              "Liquids","Electric","Electric","Liquids",
                              "Walk","road","BEV","FCEV","Hybrid Liquids",
                              "Liquids","NG","LDV","BEV","Liquids","4W","BEV",
                              "FCEV","Hybrid Liquids","Liquids","NG","BEV",
                              "FCEV","Hybrid Liquids","Liquids","NG","BEV",
                              "FCEV","Hybrid Liquids","Liquids"),
                   `1990` = c("-","-","4,066",
                              "-","-","-","201,560","-","-","4,090","-",
                              "-","1,698","59,492","-","-","-","59,492",
                              "3,983","-","-","27,005","1,172","12,417",
                              "9,470","11,943","251,441","-","-","-",
                              "146,230","-","105,211","-","5,380","99,831","-",
                              "-","-","61,888","-","-","-","-","37,943",
                              "-","-","-","-","621,749"),
                   `2005` = c("-","-","6,793",
                              "-","-","-","107,706","-","-","10,454",
                              "-","-","4,126","144,512","-","-","-",
                              "144,512","4,520","-","-","45,111","2,997","31,736",
                              "23,005","13,552","631,739","-","-","-",
                              "355,199","20,900","255,640","-","13,068",
                              "242,572","-","-","-","150,329","48","-","-",
                              "-","92,165","30","-","-","-","3,919,680"),
                   `2010` = c("-","-","8,219",
                              "-","-","-","82,877","-","-","8,845","-",
                              "-","4,319","152,971","-","-","-","152,971",
                              "4,598","-","-","54,583","2,536","26,852",
                              "24,082","13,787","715,305","-","-","-",
                              "371,554","66,023","277,727","-","14,189",
                              "263,539","-","-","-","163,217","158","-","-","-",
                              "100,067","97","-","-","-","3,392,390"),
                   `2015` = c("-","-",
                              "10,910","-","-","-","27,104","-","-","8,969","-",
                              "-","4,844","173,531","-","-","-",
                              "173,531","4,717","-","-","72,460","2,571","27,225",
                              "27,012","14,142","815,191","-","-","-",
                              "416,450","75,161","323,580","-","16,531",
                              "307,049","-","-","-","190,162","186","-","-",
                              "-","116,586","114","-","-","-","3,207,670"),
                   `2020` = c("-","-",
                              "12,359","-","-","1,670","28,573","-","-","9,989",
                              "-","-","5,357","192,413","-","-","70",
                              "192,343","4,440","-","-","83,768","3,246",
                              "27,795","27,547","13,311","860,589","-","-",
                              "54,176","388,484","56,042","361,886","-",
                              "18,794","343,093","-","-","6,326","204,581","200",
                              "-","-","3,664","128,196","125","-","-",
                              "104,856","3,279,870"),
                   `2025` = c("-","-",
                              "14,786","-","-","6,194","27,560","63","-",
                              "10,437","149","267","5,517","213,682","2","6",
                              "729","212,946","4,147","-","-","106,636",
                              "3,683","28,099","27,790","12,433","903,874",
                              "5,428","7,188","203,041","253,408","40,841",
                              "393,968","14,990","10,152","368,827","12,997",
                              "432","28,264","186,213","182","6,033","165",
                              "16,953","117,474","115","-","-","389,208",
                              "3,166,390"),
                   `2030` = c("-","-",
                              "16,788","-","-","16,952","21,927","538","-",
                              "9,067","638","1,068","4,619","234,316","29","65",
                              "1,874","232,354","3,877","-","-","124,387",
                              "4,075","28,073","27,679","11,625","943,160",
                              "24,053","29,061","206,057","211,532",
                              "34,477","437,979","21,158","7,138","409,683",
                              "52,753","5,027","45,958","149,567","146","28,553",
                              "2,469","28,959","96,157","94","-","-",
                              "1,182,260","2,558,820"),
                   `2035` = c("0","0",
                              "18,065","82","25","30,035","16,459","1,171","-",
                              "6,147","1,418","2,276","3,115","251,742",
                              "195","350","3,198","248,010","3,649","304",
                              "146","133,892","4,372","27,808","27,392",
                              "10,939","965,175","67,971","74,599","163,951",
                              "166,053","27,226","465,375","22,352","7,616",
                              "435,407","81,120","8,433","57,411","120,309",
                              "117","45,594","4,262","37,439","80,644","78",
                              "153","869","2,294,830","1,730,710"),
                   `2040` = c("0","0",
                              "19,012","241","80","36,247","14,723","1,549","-",
                              "4,745","1,918","2,957","2,396","266,609",
                              "534","793","3,919","261,381","3,427","790",
                              "459","139,376","4,563","27,241","26,814",
                              "10,275","976,076","103,868","103,548","132,223",
                              "132,145","21,784","482,509","23,071","7,928",
                              "451,511","100,681","12,203","64,378","96,217",
                              "92","58,323","6,410","43,445","69,695","67",
                              "464","3,240","2,713,730","1,483,130"),
                   `2045` = c("0","2",
                              "19,737","701","266","39,402","14,635","1,740","-",
                              "4,562","2,213","3,274","2,303","279,197",
                              "1,115","1,365","4,456","272,283","3,207",
                              "1,930","1,350","141,532","4,666","26,423",
                              "26,004","9,614","977,064","120,486","109,182",
                              "118,765","117,121","19,405","492,104","23,375",
                              "8,128","460,602","107,011","15,571","65,422",
                              "88,086","83","63,748","8,545","45,603",
                              "66,471","63","1,414","12,609","2,912,200",
                              "1,421,140"),
                   `2050` = c("2","19",
                              "20,239","1,633","711","41,314","15,025","1,878",
                              "-","4,670","2,454","3,506","2,375","289,297",
                              "2,010","2,011","4,893","280,409","2,990",
                              "4,295","3,538","139,313","4,683","25,410",
                              "25,031","8,965","968,367","130,113","107,182",
                              "110,301","107,407","17,826","495,539","23,310",
                              "8,254","463,976","105,940","19,372","64,255",
                              "85,136","78","65,168","11,196","46,418",
                              "66,351","61","3,534","40,392","3,032,150",
                              "1,410,590"),
                   `2055` = c("3","36",
                              "20,451","2,752","1,237","41,121","15,562","1,953",
                              "-","4,854","2,561","3,656","2,481",
                              "299,191","2,670","2,466","5,237","288,852","2,781",
                              "7,495","6,238","132,634","4,650","24,315",
                              "23,968","8,339","949,603","124,500","102,601",
                              "105,744","103,024","17,042","496,693",
                              "23,241","8,276","465,176","101,524","21,838",
                              "64,230","84,296","75","64,571","13,156","47,879",
                              "67,547","61","6,044","70,846","3,044,190",
                              "1,460,970"),
                   `2060` = c("6","62",
                              "20,417","3,589","1,664","40,808","15,988","2,010",
                              "-","4,993","2,645","3,767","2,558",
                              "306,307","3,032","2,693","5,443","295,180","2,591",
                              "11,763","9,880","121,860","4,531","23,189",
                              "22,864","7,769","924,838","118,709","97,867",
                              "100,940","98,381","16,234","492,706","22,957",
                              "8,205","461,545","97,016","23,194","63,797",
                              "82,597","72","63,573","14,425","48,929",
                              "67,882","60","7,956","95,565","3,044,370",
                              "1,501,170"),
                   `2065` = c("9","93",
                              "20,233","4,049","1,886","40,895","16,532","2,057",
                              "-","5,105","2,709","3,852","2,618",
                              "311,831","3,204","2,803","5,571","300,298","2,413",
                              "16,273","13,628","109,725","4,362","22,048",
                              "21,739","7,234","896,434","112,837","93,033",
                              "96,012","93,603","15,402","485,549","22,539",
                              "8,074","454,935","92,766","23,577","63,102",
                              "80,414","68","62,465","15,071","49,733",
                              "67,680","59","8,954","107,943","3,046,810",
                              "1,539,600"),
                   `2070` = c("12","127",
                              "19,995","4,376","2,069","41,165","17,130",
                              "2,109","-","5,226","2,781","3,937","2,678",
                              "317,310","3,258","2,856","5,671","305,575","2,241",
                              "20,136","16,846","98,776","4,174","20,901",
                              "20,603","6,719","866,403","106,921","88,172",
                              "90,993","88,727","14,578","477,011",
                              "22,071","7,909","447,031","88,978","23,375",
                              "62,308","77,964","65","61,443","15,324","50,367",
                              "67,152","57","9,565","116,660","3,052,240",
                              "1,577,610"),
                   `2075` = c("15","154",
                              "19,679","4,617","2,257","41,305","17,670",
                              "2,151","-","5,325","2,848","4,005","2,725",
                              "321,612","3,300","2,899","5,747","309,718","2,084",
                              "22,599","19,066","90,283","3,948","19,789",
                              "19,500","6,247","835,022","101,171","83,465",
                              "86,104","83,974","13,791","466,517",
                              "21,519","7,713","437,285","85,279","22,860",
                              "61,237","75,160","62","60,299","15,345","50,773",
                              "66,214","56","9,987","125,049","3,051,130",
                              "1,611,490"),
                   `2080` = c("16","169",
                              "19,368","4,615","2,340","42,198","18,665",
                              "2,186","-","5,410","2,905","4,079","2,779",
                              "325,481","3,336","2,938","5,814","313,450","1,937",
                              "23,518","20,108","84,966","3,703","18,710",
                              "18,445","5,808","803,641","95,551","78,865",
                              "81,436","79,453","13,027","455,311","20,903",
                              "7,526","426,883","81,484","22,305","60,077",
                              "72,349","59","58,981","15,326","51,079",
                              "65,168","55","9,843","126,797","3,058,460",
                              "1,658,050"),
                   `2085` = c("17","177",
                              "19,041","4,582","2,425","43,263","19,820",
                              "2,219","-","5,489","2,962","4,154","2,834",
                              "328,715","3,362","2,969","5,868","316,575","1,804",
                              "23,609","20,510","81,272","3,436","17,688",
                              "17,449","5,408","772,703","90,197","74,487",
                              "77,016","75,180","12,302","443,520","20,255",
                              "7,332","415,933","77,575","21,701","58,905",
                              "69,575","56","57,478","15,260","51,283",
                              "64,048","53","9,620","128,159","3,065,450",
                              "1,708,120"),
                   `2090` = c("17","179",
                              "18,691","4,512","2,474","44,350","21,037",
                              "2,245","-","5,552","3,008","4,219","2,883",
                              "331,221","3,378","2,991","5,908","319,006","1,684",
                              "23,203","20,430","78,542","3,151","16,733",
                              "16,518","5,048","742,547","85,199","70,391",
                              "72,894","71,193","11,621","431,249","19,593",
                              "7,134","404,522","73,593","21,047","57,678",
                              "66,865","53","55,803","15,142","51,424",
                              "62,864","52","9,339","127,886","3,070,600",
                              "1,758,070"),
                   `2095` = c("16","176",
                              "18,323","4,423","2,440","45,314","22,193",
                              "2,263","-","5,596","3,034","4,269","2,920",
                              "333,141","3,387","3,006","5,937","320,874","1,576",
                              "22,564","19,907","76,412","2,850","15,849",
                              "15,657","4,724","713,550","80,597","66,595",
                              "69,077","67,495","10,978","418,809","18,935",
                              "6,934","392,940","69,672","20,344","56,445",
                              "64,252","50","54,033","14,968","51,494",
                              "61,632","50","9,050","124,534","3,073,630",
                              "1,804,420"),
                   `2100` = c("16","173",
                              "17,918","4,369","2,430","46,363","22,895",
                              "2,278","-","5,634","3,057","4,313","2,953",
                              "334,587","3,394","3,015","5,959","322,284","1,474",
                              "21,919","19,388","74,083","2,540","14,996",
                              "14,823","4,420","684,352","76,178","62,950",
                              "65,388","63,914","10,364","405,558","18,273",
                              "6,714","380,570","66,001","19,549","54,850",
                              "61,720","48","52,275","14,685","51,075",
                              "60,318","48","8,854","122,604","3,090,790",
                              "1,826,190")
       )



library(tidyverse)


head(data)

data_longer<-data %>% 
  pivot_longer(-c(sector, subsector, technology), names_to="year", values_to ="value") %>% 
  mutate(value = as.numeric(gsub(",", '', value)),
         year = as.numeric(year)) %>% 
  drop_na()




sector_unique<- unique(data_longer$sector)

for (i in sector_unique){
  data_longer %>% filter(sector ==i) %>% 
    ggplot(aes(x = year, y = value, color  = technology))+
    geom_line()+
    facet_wrap(~subsector)
  
  
}


fig



data_longer %>% 
  filter(subsector =="road")

data_longer %>% 
  filter(sector!= 'trn_shipping_intl') %>% 
  ggplot(aes(x = year, y = value, color = technology))+
  geom_line()+
  facet_wrap(sector~subsector)
  


data_longer %>% 
  filter(sector=='trn_pass_road_LDV_4W') %>% 
  ggplot(aes(x = year, y = value, color = technology))+
  geom_line()+
  facet_wrap(sector~subsector)


